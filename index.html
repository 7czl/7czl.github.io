<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha256-/4UQcSmErDzPCMAiuOiWPVVsNN2s3ZY/NsmXNcj0IFc=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.15.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Lez的技术博客">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Lez的技术博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Lez">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-cn","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Lez的技术博客</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Lez的技术博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Lez</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">32</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">categories</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/22/2023-06-22/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lez">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lez的技术博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Lez的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/22/2023-06-22/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-22 16:58:34" itemprop="dateCreated datePublished" datetime="2023-06-22T16:58:34+08:00">2023-06-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/22/Perforce%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lez">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lez的技术博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Lez的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/22/Perforce%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">Perforce使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2023-06-22 16:07:12 / Modified: 17:01:18" itemprop="dateCreated datePublished" datetime="2023-06-22T16:07:12+08:00">2023-06-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a><a target="_blank" rel="noopener" href="https://www.perforce.com/products/helix-core/install-helix-core-server-client#tab-panel-43016">安装</a></h2><p>安装后会自动配好环境变量 p4v是图形化客户端， p4是命令行，wincmd 直接执行p4应该有输出。<br>windows 默认安装位置在这里 C:\Program Files\Perforce\</p>
<p>p4的命令很多，这里只讲最重要的前面几项</p>
<h2 id="登录："><a href="#登录：" class="headerlink" title="登录："></a>登录：</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">p4 <span class="literal">-u</span> your_user_name login <span class="literal">-h</span> remote_address:port  <span class="comment"># 登录</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p4 client <span class="literal">-S</span> //JamCode/main/... //workspacename/... [<span class="type">workspacename</span>] </span><br><span class="line"><span class="comment"># 映射工作区 -S 指 stream 就是远程分支的路径一般都以//开始 workspace是工作区的名字，这一项可选，但最好赋予一个你能记住的名字，</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Windows 注意要修改根目录，这个根目录的位置由你自己决定, </span></span><br><span class="line"><span class="comment"># 比如盘符:\子文件夹1\子文件夹2 这个位置可以任意指定</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#### 也可以映射多个服务器的目录到一个工作区内</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#To map the same server directory to more than one client workspace directory, use the &amp; sign.</span></span><br><span class="line">//depot/... //bruno<span class="literal">-client</span>/...  </span><br><span class="line">&amp;//depot/and/tools/... //workspacename/and/utility1/...  </span><br><span class="line">&amp;//depot/and/tools/... //workspacename/and/utility2/...</span><br><span class="line"></span><br><span class="line">To specify a workspace on Windows that spans multiple drives, use a `Root:` of `null`, and specify the drive letters <span class="keyword">in</span> the workspace view. <span class="keyword">For</span> instance, the following workspace spec with a `null` root maps `//depot/main/...` to an area of the `C:` drive, and other releases to the `D:` drive:</span><br><span class="line"></span><br><span class="line">这个windows下一个工作空间对应多个映射的例子值得看看</span><br><span class="line">Client: eds_win</span><br><span class="line">Owner:  edk</span><br><span class="line">Description:</span><br><span class="line">        Ed<span class="string">&#x27;s Windows Workspace</span></span><br><span class="line"><span class="string">Root:   null</span></span><br><span class="line"><span class="string">Options:        nomodtime noclobber</span></span><br><span class="line"><span class="string">SubmitOptions:  submitunchanged</span></span><br><span class="line"><span class="string">View:</span></span><br><span class="line"><span class="string">        //depot/main/...     &quot;//eds_win/c:/Current Release/...&quot;</span></span><br><span class="line"><span class="string">        //depot/rel1.0/...   //eds_win/d:/old/rel1.0/...</span></span><br><span class="line"><span class="string">        //depot/rel2.0/...   //eds_win/d:/old/rel2.0/...</span></span><br></pre></td></tr></table></figure>

<h2 id="配置目录内的环境变量"><a href="#配置目录内的环境变量" class="headerlink" title="配置目录内的环境变量"></a>配置目录内的环境变量</h2><p>在你的工作区目录建立一个p4config.txt 比如 我这里使用 G:\Game1<br>这样我在这个文件夹内使用p4 命令时会自动读取这个位置文件内的环境变量，比较方便。</p>
<figure class="highlight txt"><figcaption><span>p4config.txt</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">P4USER=your_user_name</span><br><span class="line">P4HOST=your_computer_name</span><br><span class="line">P4CLIENT=your_workspace_name</span><br></pre></td></tr></table></figure>

<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p4 sync <span class="comment">#同步到本地</span></span><br></pre></td></tr></table></figure>

<p>p4和git还是有很大区别的。文件不检出就只能以只读形式打开。签出后即可你的工作区删改。</p>
<p><a target="_blank" rel="noopener" href="https://www.perforce.com/manuals/cmdref/Content/CmdRef/p4_edit.html">P4命令</a></p>
<h2 id="概念剖析"><a href="#概念剖析" class="headerlink" title="概念剖析"></a>概念剖析</h2><p>下文中的工作空间和客户端是同一含义，故不再做区分。<br>这个是我用super 用户在服务端上显示工作空间的输出：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@lucid-node-2 ~]# p4 clients</span><br><span class="line">Client Crpg_TJ 2022/06/22 root J:\Unreal Projects\Crpg_TJ &#x27;Created by liyi. &#x27;</span><br><span class="line">Client Crpg_game_luhao 2022/06/19 root G:\Crpg_demo &#x27;Created by luhao. &#x27;</span><br><span class="line">Client DevBranch 2022/06/22 root /Users/lezhou/Perforce/DevBranch &#x27;Created by zhoule. &#x27;</span><br><span class="line">Client G:\GameProject\ 2023/06/21 root c:\Users\win10\.cargo\bin &#x27;Created by zuojiaqi. &#x27;</span><br><span class="line">Client Nemesis 2023/06/21 root c:\Users\win10\.cargo\bin &#x27;Created by zuojiaqi. &#x27;</span><br><span class="line">Client luhao_tvpn_1299 2022/06/24 root D:\Crpg_TJ_demo &#x27;Created by luhao. &#x27;</span><br><span class="line">Client luhao_tvpn_2932 2022/06/19 root D:\Crpg_game &#x27;Created by luhao. &#x27;</span><br><span class="line">Client luhao_tvpn_950 2022/06/24 root D:\Crpg_TJ_demo &#x27;Created by luhao. &#x27;</span><br><span class="line">Client yuanrui_tvpn_275 2023/06/17 root D:\PerForceProject &#x27;Created by yuanrui. &#x27;</span><br><span class="line">Client yuanrui_tvpn_3145 2023/06/19 root D:\yuanrui_tvpn_3145 &#x27;Created by yuanrui. &#x27;</span><br></pre></td></tr></table></figure>
<p>p4 client&#x2F;workspaces得到的输出相同，它们在含义上是等价的。这是服务端和客户端的映射，Client后每一项的含义：<br>|名字（工作空间的）| 创建时间 | 根位置（根位置就是本地路径）| 创建者<br>这是在客户端使用p4 client 映射本地工作空间的输出。值得注意的是Root Stream还有StreamView三项</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">p4 client -S //JamCode/main bugfree</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">A Perforce Client Specification.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#  Client:      The client name.</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> Update:      The <span class="built_in">date</span> this specification was last modified.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> Access:      The <span class="built_in">date</span> this client was last used <span class="keyword">in</span> any way.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> Owner:       The Perforce user name of the user <span class="built_in">who</span> owns the client</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">              workspace. The default is the user <span class="built_in">who</span> created the</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">              client workspace.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> Host:        If <span class="built_in">set</span>, restricts access to the named host.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> Description: A short description of the client (optional).</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> Root:        The base directory of the client workspace.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> AltRoots:    Up to two alternate client workspace roots.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> Options:     Client options:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">                     [no]allwrite [no]clobber [no]compress</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">                     [un]locked [no]modtime [no]<span class="built_in">rmdir</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> SubmitOptions:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">                     submitunchanged/submitunchanged+reopen</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">                     revertunchanged/revertunchanged+reopen</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">                     leaveunchanged/leaveunchanged+reopen</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> LineEnd:     Text file line endings on client: <span class="built_in">local</span>/unix/mac/win/share.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> Type:        Type of client: writeable/readonly/graph/partitioned.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> ServerID:    If <span class="built_in">set</span>, restricts access to the named server.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> View:        Lines to map depot files into the client workspace.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> ChangeView:  Lines to restrict depot files to specific changelists.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> Stream:      The stream to <span class="built_in">which</span> this client<span class="string">&#x27;s view will be dedicated.</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">              (Files in stream paths can be submitted only by dedicated</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">              stream clients.) When this optional field is set, the</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">              View field will be automatically replaced by a stream</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">              view as the client spec is saved.</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string"> StreamAtChange:  A changelist number that sets a back-in-time view of a</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">                  stream ( Stream field is required ).</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">                  Changes cannot be submitted when this field is set.</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="string"></span></span></span><br><span class="line"><span class="string"><span class="language-bash"># Use &#x27;</span>p4 <span class="built_in">help</span> client<span class="string">&#x27; to see more about client views and options.</span></span></span><br><span class="line"></span><br><span class="line">Client:	bugfree </span><br><span class="line"></span><br><span class="line">Update:	2023/06/21 21:09:52</span><br><span class="line"></span><br><span class="line">Access:	2023/06/21 21:09:32</span><br><span class="line"></span><br><span class="line">Owner:	zuojiaqi</span><br><span class="line"></span><br><span class="line">Host:	Nemesis 主机名也很重要，你在哪个主机上用哪个用户打开的这个工作区是受到限制的</span><br><span class="line"></span><br><span class="line">Description:</span><br><span class="line">	Created by zuojiaqi.</span><br><span class="line"></span><br><span class="line">Root:	G:\GameProject</span><br><span class="line"></span><br><span class="line">Options:	noallwrite noclobber nocompress unlocked nomodtime normdir</span><br><span class="line"></span><br><span class="line">SubmitOptions:	submitunchanged</span><br><span class="line"></span><br><span class="line">LineEnd:	local</span><br><span class="line"></span><br><span class="line">Stream:	//JamCode/main</span><br><span class="line"></span><br><span class="line">View:</span><br><span class="line">	//JamCode/main/... //bugfree/...</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.perforce.com/manuals/cmdref/Content/CmdRef/p4_client.html#p4_client">p4client详细阅读</a></p>
<h2 id="忽略文件："><a href="#忽略文件：" class="headerlink" title="忽略文件："></a>忽略文件：</h2><p>项目路径下添加.p4ignore.txt去掉中间目录和debug信息。UE4编译时生成的中间文件是不需要用vcs跟踪的。<br><a target="_blank" rel="noopener" href="https://hastebin.com/share/vuyegesisa.markdown">抄来的适合UE的ignorefile</a>可直接打开<br><a target="_blank" rel="noopener" href="https://github.com/sonstraza/Unreal-P4Ignore/blob/main/Perforce%20Ignore%20Guide.pdf">p4ignoreguide</a></p>
<h2 id="凭据"><a href="#凭据" class="headerlink" title="凭据"></a>凭据</h2><p>p4ticket有效时限12小时，这个应该可以在服务器段变更。同时这个用户管理也可以和LDAP集成。</p>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">p4 add/ delete 增加删除</span><br><span class="line">p4 edit filename 编辑文件/ 签出并编辑</span><br><span class="line">p4 shelve -c changelist_number  # 对未提交的changelist在服务器端创建一个shelve区，允许其他人对这个shelve的变更引用到他们的工作区</span><br><span class="line">p4 changelist -d &quot;变更描述&quot;</span><br><span class="line">add/edit /delete 都反应在一个changelist中</span><br><span class="line">p4 submit -c changelist_number</span><br><span class="line">p4 revert</span><br></pre></td></tr></table></figure>

<h2 id="UE-引擎如何配置P4为VCS"><a href="#UE-引擎如何配置P4为VCS" class="headerlink" title="UE 引擎如何配置P4为VCS"></a>UE 引擎如何配置P4为VCS</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/547763516">补充阅读</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/21/linux/The%20Missing%20semester/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lez">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lez的技术博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Lez的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/21/linux/The%20Missing%20semester/" class="post-title-link" itemprop="url">The Missing semester</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2023-06-21 18:07:18 / Modified: 18:13:11" itemprop="dateCreated datePublished" datetime="2023-06-21T18:07:18+08:00">2023-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>L1&#x2F;L2 Shell：<br>拾遗：Linux目录的可执行权限就是能否搜索这个目录。如果想要执行某个文件，必须拥有这个文件所在路径的执行权限。</p>
<p>2&gt;&amp;1<br>将标准错误合并到标准输出 &amp;代表引用<br>&#x2F;dev&#x2F;stderr -&gt; &#x2F;proc&#x2F;self&#x2F;fd&#x2F;2</p>
<p>‘单引号中的变量不会被替换’</p>
<p>L3 编辑器<br>{operator}{count}{motion}<br>从普通模式到插入模式 A&#x2F;a&#x2F;I&#x2F;i<br>从插入模式切换回到普通模式 ESC C - [   或 C-c</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/21/linux/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%89%93%E9%80%A0%E6%95%B0%E5%AD%97%E6%92%AD%E6%94%BE%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lez">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lez的技术博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Lez的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/21/linux/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%89%93%E9%80%A0%E6%95%B0%E5%AD%97%E6%92%AD%E6%94%BE%E5%99%A8/" class="post-title-link" itemprop="url">树莓派打造数字播放器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-21 18:07:18" itemprop="dateCreated datePublished" datetime="2023-06-21T18:07:18+08:00">2023-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-06-22 17:04:24" itemprop="dateModified" datetime="2023-06-22T17:04:24+08:00">2023-06-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>树莓派上安装特定的Volumio&#x2F;<a target="_blank" rel="noopener" href="https://moodeaudio.org/">moodeaudio</a><br>&#x2F;<a target="_blank" rel="noopener" href="https://www.runeaudio.com/documentation/quick-start/rpi-hardware-setup/">RuneAudio</a>&#x2F;<a target="_blank" rel="noopener" href="https://github.com/rern/rAudio">rAudio</a><br>不同的系统对I2C DAC的支持不同<br>用官方的镜像烧录P Imager<br><a target="_blank" rel="noopener" href="https://www.raspberrypi.com/software/">https://www.raspberrypi.com/software/</a><br>烧录系统镜像到SD卡上<br><a target="_blank" rel="noopener" href="https://volumio.github.io/docs/User_Manual/Quick_Start_Guide">https://volumio.github.io/docs/User_Manual/Quick_Start_Guide</a><br><a target="_blank" rel="noopener" href="https://moodeaudio.org/">https://moodeaudio.org/</a><br>安装spotify插件 （spotify 客户端）<br>moode Raspotify</p>
<p>接外置DAC输出模拟信号接音箱&#x2F;耳机<br>移动端APP&#x2F;网页实现远程控制</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/21/rust%20language/%E4%BB%8Eterminal%20case%20of%20linux%E5%AD%A6%E5%88%B0%E7%9A%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lez">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lez的技术博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Lez的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/21/rust%20language/%E4%BB%8Eterminal%20case%20of%20linux%E5%AD%A6%E5%88%B0%E7%9A%84/" class="post-title-link" itemprop="url">从terminal case of linux学到的</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2023-06-21 18:07:12 / Modified: 18:11:36" itemprop="dateCreated datePublished" datetime="2023-06-21T18:07:12+08:00">2023-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/rust-language/" itemprop="url" rel="index"><span itemprop="name">rust language</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>伪终端的概念<br>cat &#x2F;pts&#x2F;number 也是文件，可以读也可以写</p>
<p>在rust种如果使用std::process:Command来创建子进程执行ls –color&#x3D;auto会丢失颜色。带着这个疑问找到<br><a target="_blank" rel="noopener" href="https://github.com/coreutils/coreutils">coreutils</a>查看ls.c源码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">isatty()  <span class="comment">// 通过文件描述符来判断输出是否是一个终端，缓存结果</span></span><br><span class="line">ttyname()</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ldd ./target/debug/termius</span><br><span class="line">output:</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f4e15065000)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nm -D /lib/x86_64-linux-gnu/libc.so.6 |grep -E &#x27;isatty|ttyname&#x27;</span><br><span class="line">output:</span><br><span class="line">00000000001324d0 T __ttyname_r_chk</span><br><span class="line">0000000000112cc0 W isatty</span><br><span class="line">0000000000112580 T ttyname</span><br><span class="line">0000000000112900 W ttyname_r</span><br></pre></td></tr></table></figure>

<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="string">&quot;C&quot;</span> &#123; <span class="keyword">fn</span> <span class="title function_">isatty</span>(fd: c_int) <span class="punctuation">-&gt;</span> c_int;&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">stdout_istty</span> = <span class="keyword">unsafe</span> &#123; <span class="title function_ invoke__">isatty</span>(<span class="number">1</span>) &#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash">./target/debug/terminus <span class="built_in">tty</span>  == <span class="literal">true</span></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">./target/debug/terminus | <span class="built_in">cat</span> <span class="built_in">tty</span> == <span class="literal">false</span></span></span><br></pre></td></tr></table></figure>
<p>这里涉及知识可以看APUE管道<br>通过strace观察其实就是执行了ioctl</p>
<p><a target="_blank" rel="noopener" href="https://github.com/torvalds/linux/blob/master/include/uapi/asm-generic/ioctls.h">为什么是0x5401</a></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> TCGETS: <span class="type">u64</span> = <span class="number">0x5401</span>;</span><br><span class="line"><span class="keyword">const</span> buffer: <span class="type">usize</span> = <span class="number">32</span> * <span class="number">1024</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">mysterious_buffer</span> = <span class="built_in">vec!</span>[<span class="number">0u8</span>; buffer];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">ret</span> = <span class="keyword">unsafe</span> &#123; <span class="title function_ invoke__">ioctl</span>(<span class="number">1</span>, TCGETS,  mysterious_buffer)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 手搓 isatty</span></span><br><span class="line"><span class="keyword">unsafe</span> <span class="keyword">fn</span> <span class="title function_">ioctl</span>(fd: <span class="type">u64</span>, cmd: <span class="type">u64</span>, arg: *<span class="keyword">mut</span> <span class="type">u8</span>) <span class="punctuation">-&gt;</span> <span class="type">i64</span> &#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">syscal_no</span>:<span class="type">u64</span> =<span class="number">16</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">ret</span>: <span class="type">u64</span>;</span><br><span class="line">asm!(</span><br><span class="line"><span class="string">&quot;syscall&quot;</span>,</span><br><span class="line"><span class="title function_ invoke__">inout</span>(<span class="string">&quot;rax&quot;</span>) syscall_no =&gt; ret,</span><br><span class="line"><span class="title function_ invoke__">in</span>(<span class="string">&quot;rdi&quot;</span>) fd,</span><br><span class="line"><span class="title function_ invoke__">in</span>(<span class="string">&quot;rsi&quot;</span>) cmd,</span><br><span class="line"><span class="title function_ invoke__">in</span>(<span class="string">&quot;rdx&quot;</span>) arg,</span><br><span class="line"><span class="title function_ invoke__">lateout</span>(<span class="string">&quot;rcx&quot;</span>) _, <span class="title function_ invoke__">lateout</span>(<span class="string">&quot;r11&quot;</span>) _,</span><br><span class="line"><span class="title function_ invoke__">options</span>(nostack)</span><br><span class="line">);</span><br><span class="line">ret <span class="keyword">as</span> <span class="type">i64</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>生成终端</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsafe</span> &#123; <span class="keyword">let</span> <span class="variable">ret</span> = libc::<span class="title function_ invoke__">openpty</span>(</span><br><span class="line">	&amp;<span class="keyword">mut</span> fd1, </span><br><span class="line">	&amp;<span class="keyword">mut</span> fd2, </span><br><span class="line">	std::ptr::<span class="title function_ invoke__">null_mut</span>(), </span><br><span class="line">	std::ptr::<span class="title function_ invoke__">null</span>(), </span><br><span class="line">	std::ptr::<span class="title function_ invoke__">null</span>()) &#125;;</span><br></pre></td></tr></table></figure>
<p>ls 需要是controlling terminal 才可以，fork 会返回两次，一次是主进程，一次是子进程。我们必须在exec之前执行 login_tty才可以。 posix_spawn有一个get_closures</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/21/linux/Linux%E5%91%BD%E4%BB%A4%E5%88%86%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lez">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lez的技术博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Lez的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/21/linux/Linux%E5%91%BD%E4%BB%A4%E5%88%86%E7%B1%BB/" class="post-title-link" itemprop="url">Linux命令分类</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2023-06-21 18:07:09 / Modified: 18:13:11" itemprop="dateCreated datePublished" datetime="2023-06-21T18:07:09+08:00">2023-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://www.kernel.org/doc/html/latest/filesystems/ext4/overview.html">https://www.kernel.org/doc/html/latest/filesystems/ext4/overview.html</a><br>这里有linux的全部奥秘<br><a target="_blank" rel="noopener" href="https://101.ustclug.org/Ch05/#fhs%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95">https://101.ustclug.org/Ch05/#fhs操作文件目录</a><br>top后按1查看每个核心的占用情况<br>设备文件 &#x2F;dev&#x2F;null 返回EOF<br>&#x2F;dev&#x2F;zero<br>&#x2F;dev&#x2F;urandom 输出随机数据<br>&#x2F;bin 存储所有用户都可以直接使用的二进制程序<br>&#x2F;boot 存储启动系统所需要的文件<br>&#x2F;dev 存储设备文件<br>&#x2F;etc 存储系统和程序的配置文件 类似windows的注册表 注册表是一个数据库，具备原子性<br>&#x2F;home<br>&#x2F;lib 存放系统运行必须的库文件<br>&#x2F;root<br>&#x2F;run 系统运行时的数据<br>&#x2F;sbin 存放用于系统管理的程序，譬如仅允许root使用的程序</p>
<p>一个mp3文件添加可执行属性能否执行。为什么？Linux 的二进制文件elf是有幻术头的<br>不满足幻术则不允许执行。</p>
<p>sudo cd的问题? cd只会在自己的shell中生效 sudo sh -c “command1 &amp;&amp; command2”<br>mv<br>cp<a target="_blank" rel="noopener" href="https://101.ustclug.org/Ch05/#fhs%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95">https://101.ustclug.org/Ch05/#fhs%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95</a><br>tree<br>rmdir<br>mkdir<br>touch<br>dirs<br>ls<br>cd<br>pwd<br>用户&#x2F;群组管理：<br>groupadd<br>groupdel<br>userdel<br>usermod 改用户属性<br>useradd<br>passwd<br>chpasswd<br>查询&#x2F;统计<br>id 显示uid和gid<br>su<br>locate<br>wc<br>tree<br>dirname basename mk5sum cksum<br>文件处理diff cmp uniq sort comm sedawktee<br>毁灭性的命令<br>rm -rf &#x2F;<br>mkfs.ext4 &#x2F;dev&#x2F;sda<br>dd if&#x3D;&#x2F;dev&#x2F;urandom of&#x3D;&#x2F;dev&#x2F;sda 对系统的第一块硬盘写入伪随机数<br>:() { :|: &amp; } ;:  </p>
<p>无密码执行sudo</p>
<p>分析python程序的性能使用的工具<br>py-spy<br>line_profiler<br>cprofile标准库自带<br>memory_profiler<br>APM工具<br>Zipkin 可以跟踪每个函数的调用耗时<br>strace -c ftrace ltrace</p>
<p>tracemalloc模块来跟踪内存分配<br>timeit模块来给程序计时<br>分析程序性能的目标：减少执行时间和降低内存占用。<br>插入性能分析的代码来分析和定位性能瓶颈，确认函数调用的耗时，关注频繁调用的函数，和内存占用较高的部分。<br>如何优化？<br>算法和使用的数据结构的变化<br>计算：增加并行度，<br>当然Cpython这块稍弱一些，有把大锁限制了多线程的并行执行。<br>使用内置函数和高性能库，以空间换时间缓存中间结果以减少重复计算。<br>优化IO，使用生成器而不是列表。</p>
<p>bash 定时任务是rsync remote[1:5] :&#x2F;abc abc<br>命令使用rsync工具从远程主机remote1到remote5的<code>/abc</code>目录中复制文件到当前目录下的<code>abc</code>目录。在这个命令中，<code>remote[1:5]</code>是一个表示远程主机的通配符，表示从<code>remote1</code>到<code>remote5</code>的一系列远程主机。<br>命令使用rsync工具从远程主机remote1到remote5的<code>/abc</code>目录中复制文件到当前目录下的<code>abc</code>目录。在这个命令中，<code>remote[1:5]</code>是一个表示远程主机的通配符，表示从<code>remote1</code>到<code>remote5</code>的一系列远程主机。</p>
<p>自动化工具举例<br>Ansible&#x2F;Salt&#x2F;Chef&#x2F;Puppet 配置管理，应用程序部署远程执行<br>Docker&#x2F;Jenkins 自动化部署 &#x2F; CI&#x2F;CD工具<br>Selenium Web自动化测试<br>terraform 命令行基础设施编排工具 支持HCL和json两种语法，用terraform init&#x2F;plan&#x2F;apply来初始化查看和创建资源<br>makefile<br>autoconf<br>flyio<br>个人如何做CICD github actions</p>
<p>排查IO问题<br>top sar<br>iostat &#x2F;varlog&#x2F;syslog &#x2F;var&#x2F;log&#x2F;messages<br>blktrace查看IO操作捕获和分析IO请求的详细信息，识别IO延迟<br>iotop找进程<br>strace ltrace</p>
<p>ssh无法连接到一台主机应该如何处理，<br>检查网络连接，ping确保目标主机可达<br>确认SSH服务是否正常运行<br>确认SSH配置文件是否正常 &#x2F;etc&#x2F;ssh&#x2F;sshd_config 查看监听地址和允许登录的用户以及连接方式。<br>查看主机防火墙设置是否允许SSH流量通过，查看公钥是否已添加到目标主机 authorized_keys<br>systemctl restart sshd 重启服务</p>
<p>显示正在运行的所有python程序 ps aux |grep python<br>grep忽略大小写 grep -i “pattern” file</p>
<p>实现一个python枚举</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyEnum</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, *args</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.enum_values = args</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getattr__</span>(<span class="params">self, item</span>):</span><br><span class="line">        <span class="keyword">if</span> item <span class="keyword">in</span> self.enum_values:</span><br><span class="line">            <span class="keyword">return</span> item</span><br><span class="line">        <span class="keyword">raise</span> AttributeError(<span class="string">f&quot;MyEnum obj has no attribute &#x27;<span class="subst">&#123;item&#125;</span>&#x27;&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__lt__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> self.enum_values.index(self) &lt; self.enum_values.index(other)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__gt__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> self.enum_values.index(self) &gt; self.enum_values.index(other)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">print_all</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> self.__dict__:</span><br><span class="line">            <span class="built_in">print</span>(self.__dict__.values())</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    colors = MyEnum(<span class="string">&quot;Red&quot;</span>, <span class="string">&quot;Green&quot;</span>, <span class="string">&quot;Blue&quot;</span>)</span><br><span class="line">    <span class="comment"># print(colors.Red &gt; colors.Green)</span></span><br><span class="line">    colors.print_all()</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Stats</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.percent = self.get_mem_usage()</span><br><span class="line">        self.pids = self.get_all_process()</span><br><span class="line">        self.memory_of_process = self.get_procs_mem()</span><br><span class="line">        self.snap_shot = <span class="built_in">sorted</span>(self.memory_of_process, key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="literal">True</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_procs_mem</span>(<span class="params">self</span>) -&gt; <span class="built_in">iter</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">map</span>(<span class="keyword">lambda</span> pid: (pid, psutil.Process(pid).memory_info().rss, psutil.Process(pid).memory_info().vms), self.pids)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_mem_usage</span>(<span class="params">self</span>) -&gt; <span class="built_in">float</span>:</span><br><span class="line">        <span class="keyword">return</span> psutil.virtual_memory().percent</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_all_process</span>(<span class="params">self</span>) -&gt; <span class="built_in">list</span>:</span><br><span class="line">        <span class="keyword">return</span> [x.pid <span class="keyword">for</span> x <span class="keyword">in</span> psutil.process_iter()]</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find_first_nth</span>(<span class="params">self, number</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.snap_shot[:number])</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">alert</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.find_first_nth(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<p>pandas的使用案例：数据清洗和预处理 数据分析和统计计算 可视化<br>显示环境变量:env&#x2F;printenv<br>更改linux 默认网关<br>1 route -n 查看<br>2 sudo route del default gw [ current gw addr ]<br>3sudo route add default gw [ ip addr ]  [ interface ]<br>重启ssh服务<br>service sshd status systemctl status sshd</p>
<p>linux存放系统日志的地方 &#x2F;var&#x2F;log&#x2F;syslog &#x2F;var&#x2F;log&#x2F;message<br>Linux关机命令  sudo poweroff &#x2F; sudo halt &#x2F; sudo shutdown -h now</p>
<p>网络相关<br>ss -plat #tcp #process #udp #listen #a 可以同时查看本地端口远程端口和套接字状态<br>netstat -lntp #tcp #listen #process #IP_PORT<br>lsof -iTCP -sTCP:LISTEN -P -n #tcp #listen #pid #socket_info<br>查看tcp监听6000端口的进程<br>netstat -tlnp |grep “6000”<br>lsof -i :6000</p>
<p>python常用模块举例  datetime json itertools  os  random  subprocess  timeit tracemalloc  venv<br>pickle sqlite</p>
<p>shell 题目<br>匹配(123) 456-7890<br>‘^pattern$’ ^匹配行首 $匹配行尾<br>sed -i ‘7d’ filename   删除第七行<br>sed -i ‘7,1+-5d’ filename 删除7至15行<br>sed -i ‘$d’ filename 删除最后一行<br>sed -i ‘&#x2F;^$&#x2F;d’ filename 删除所有空行<br>sed -i ‘&#x2F;string&#x2F;d’ filename 删除包含string的行<br>(d{3}-) 三个数字加- 比如123-<br>|代表或者<br>(\d{3}) )\d{3}-\d{4}<br>grep -P ‘^(\d{3}-|(\d{3}) )\d{3}-\d{4}$’ file.txt</p>
<p>统计词频</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat words.txt | tr -s &#x27; &#x27; &#x27;\n&#x27;|sort|uniq -c |sort -r|awk &#x27;&#123;print $2&quot; &quot;$1&#125;&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出第十行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk &#x27;NR == 10&#x27; file.txt` NR在awk中指行号</span><br></pre></td></tr></table></figure>
<p>转置文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">transpose=`head -n1 file.txt | wc -w`</span><br><span class="line"></span><br><span class="line">for i in `seq 1 $transpose`</span><br><span class="line">do</span><br><span class="line">    echo `cut -d&#x27; &#x27; -f$i file.txt`</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>k8s相关<br>master  side<br>kube-apiserver 提供api接口<br>kube-controller-manager 控制器维护集群状态和配置<br>kube-scheduler 负责调度pod</p>
<p>node side<br>kubelet运行在每个节点负责和master通信，管理节点上的pod<br>kube-proxy 负责网络代里和负载均衡<br>Container Runtime 容器运行时 </p>
<p>master控制平面<br>node<br>常用的kubectl 命令举例<br>kubectl delete pod<br>kubectl describe pod<br>kubectl get pod<br>kubectl create -f xxx.yaml</p>
<p>容器存活探针<br>http get<br>tcp socket<br>exec 进入到容器中执行命令并检查退出状态码<br>如何组织pod：使用label 来为资源分类 以keyvalue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">def count_ways(n):</span><br><span class="line">    if n &lt;= 0:</span><br><span class="line">        return 0</span><br><span class="line">    elif n == 1:</span><br><span class="line">        return 1</span><br><span class="line">    elif n == 2:</span><br><span class="line">        return 2</span><br><span class="line">    </span><br><span class="line">    dp = [0] * (n + 1)</span><br><span class="line">    dp[1] = 1</span><br><span class="line">    dp[2] = 2</span><br><span class="line">    </span><br><span class="line">    for i in range(3, n + 1):</span><br><span class="line">        dp[i] = dp[i-1] + dp[i-2]</span><br><span class="line">    </span><br><span class="line">    return dp[n]</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/21/linux/Linux%E5%A4%84%E7%90%86%E9%A1%B5%E9%94%99%E8%AF%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lez">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lez的技术博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Lez的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/21/linux/Linux%E5%A4%84%E7%90%86%E9%A1%B5%E9%94%99%E8%AF%AF/" class="post-title-link" itemprop="url">处理页错误的细节</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2023-06-21 18:06:01 / Modified: 18:13:11" itemprop="dateCreated datePublished" datetime="2023-06-21T18:06:01+08:00">2023-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Page fault不是软中断，而是一种硬件中断。下面是一些理由：</p>
<ol>
<li><p>触发机制：Page fault是由CPU硬件自动触发的，而不是通过软件指令主动引发的。当程序尝试访问不在物理内存中的页面时，CPU会检测到这一情况并引发page fault中断。</p>
</li>
<li><p>引发原因：Page fault的引发原因是在虚拟内存管理中发生了页面缺失（page not present）或访问权限违规等情况，而不是由于应用程序需要操作系统服务而显式触发的。</p>
</li>
<li><p>处理过程：Page fault的处理涉及到操作系统内核的底层页面管理机制，包括查找、分配和加载页面等操作。与软中断处理相比，page fault的处理过程更加复杂，并且涉及到操作系统内核的核心功能。</p>
</li>
</ol>
<p>虽然page fault与软中断在某种程度上都涉及中断处理和操作系统的干预，但它们的触发方式、引发原因和处理过程有着显著的区别。因此，page fault通常被认为是一种硬件中断，而不是软中断</p>
<p>Handling page faults in the Linux kernel involves several low-level details. Here’s a more in-depth explanation of the process:</p>
<ol>
<li><p>Interrupt Handling: When a page fault occurs, the processor generates an interrupt, typically an “interrupt 14” or “interrupt 0xE.” This interrupt triggers the execution of the kernel’s page fault handler.</p>
</li>
<li><p>Exception Stacking: The processor pushes the current execution context, including the program counter and other registers, onto the kernel stack. This saves the state of the interrupted program for later resumption.</p>
</li>
<li><p>Page Fault Handler Invocation: The kernel’s page fault handler is invoked, usually through a specific interrupt vector or exception handler. It retrieves the faulting memory address from the processor’s registers.</p>
</li>
<li><p>Virtual Memory Lookup: The page fault handler begins by examining the faulting address to determine the memory access type (read, write, or execute) and the memory protection settings associated with the page.</p>
</li>
<li><p>Page Table Walk: The kernel uses the page directory and page tables to perform a hierarchical lookup of the virtual address. It traverses these data structures to find the corresponding page table entry (PTE) that maps the virtual address to a physical address or identifies the absence of the page.</p>
</li>
<li><p>Page Fault Reason Determination: Based on the page table entry, the handler determines the reason for the page fault. It could be due to a non-present page, a permission violation, a reserved bit violation, a stack growth, or other specific conditions.</p>
</li>
<li><p>Non-Present Page Handling: If the page is not present in physical memory, the kernel proceeds with the necessary steps to bring it in:</p>
<p>a. Allocate Physical Page: The kernel allocates a physical page frame, typically from a pool of free pages.</p>
<p>b. Disk I&#x2F;O: If the required page is stored on secondary storage (e.g., swap space), the kernel initiates a disk I&#x2F;O operation to load the page into the newly allocated physical page frame.</p>
<p>c. Page Table Update: Once the page is successfully loaded, the kernel updates the page table entry to reflect the new mapping between the virtual and physical addresses. It marks the page as present, sets the appropriate permissions, and clears any status flags indicating the absence of the page.</p>
</li>
<li><p>Permission Violation Handling: If the page fault was caused by a permission violation, the kernel checks the access rights specified in the page table entry against the requested operation. If the access is invalid, the kernel raises an appropriate exception (e.g., segmentation fault) to signal the error to the program.</p>
</li>
<li><p>Stack Growth: If the page fault occurred due to stack growth, the kernel allocates a new page for the stack and updates the page table entry accordingly. This allows the program’s stack to expand dynamically.</p>
</li>
<li><p>Exception Return: After handling the page fault, the kernel restores the saved execution context from the kernel stack, including the program counter and registers. Control is then returned to the interrupted program, which can resume execution with the page now accessible in physical memory.</p>
</li>
</ol>
<p>The low-level details can vary depending on the specific architecture and configuration of the Linux system, but this general outline illustrates the core steps involved in handling page faults at a low level in the Linux kernel.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/21/rust%20language/Rust%E6%B2%A1%E6%9C%89%E6%8D%95%E8%8E%B7%E7%9A%84%E4%B8%80%E4%BA%9B%E9%94%99%E8%AF%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lez">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lez的技术博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Lez的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/21/rust%20language/Rust%E6%B2%A1%E6%9C%89%E6%8D%95%E8%8E%B7%E7%9A%84%E4%B8%80%E4%BA%9B%E9%94%99%E8%AF%AF/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2023-06-21 08:29:01 / Modified: 18:10:31" itemprop="dateCreated datePublished" datetime="2023-06-21T08:29:01+08:00">2023-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/rust-language/" itemprop="url" rel="index"><span itemprop="name">rust language</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/07/linux/%E6%A3%80%E6%9F%A5%E5%BF%AB%E6%8D%B7%E9%94%AE%E8%A2%AB%E5%93%AA%E4%B8%AA%E8%BF%9B%E7%A8%8B%E6%8D%95%E8%8E%B7%E7%9A%84%E5%B7%A5%E5%85%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lez">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lez的技术博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Lez的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/07/linux/%E6%A3%80%E6%9F%A5%E5%BF%AB%E6%8D%B7%E9%94%AE%E8%A2%AB%E5%93%AA%E4%B8%AA%E8%BF%9B%E7%A8%8B%E6%8D%95%E8%8E%B7%E7%9A%84%E5%B7%A5%E5%85%B7/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-07 11:15:28" itemprop="dateCreated datePublished" datetime="2023-06-07T11:15:28+08:00">2023-06-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-06-21 18:10:31" itemprop="dateModified" datetime="2023-06-21T18:10:31+08:00">2023-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Windows下部分快捷键是全局生效的，截屏这个功能很多软件都提供，比如QQ就是用热键ctrl+alt+a来触发截屏功能，<br>今天突然发现失效了，怀疑是其他进程（比QQ客户端）先一步获取到了这个热键，于是查询发现spyxx能排查这一过程。之前在查看窗口对象的时候用过，是Visutal Studio安装时自带的工具，亦可单独下载。<br>排查步骤：<br>打开spy++ 监视选项卡-日志消息-消息选项页的窗口选项卡选择系统中所有窗口-&gt;然后点消息-&gt; 全部清除要查看的消息，然后选中WM_HOTKEY 确定后按要探查的快捷键比如(ctrl + alt + a)然后到消息窗口中找到对应的那条日志就可以查看具体捕获这个快捷键的进程。也就定位问题原因了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/03/linux/CI/Jenkins/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lez">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lez的技术博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Lez的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/03/linux/CI/Jenkins/" class="post-title-link" itemprop="url">Jenkins</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-03 11:06:32" itemprop="dateCreated datePublished" datetime="2023-06-03T11:06:32+08:00">2023-06-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-06-21 18:10:31" itemprop="dateModified" datetime="2023-06-21T18:10:31+08:00">2023-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/CI/" itemprop="url" rel="index"><span itemprop="name">CI</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>开发人员很少接触生产环境，<br>Devops是一套惯例或者说工作流。<br>持续开发和集成的目标就是尽量降低程序开发新功能&#x2F;修复bug到发布到线上的成本<br>配置和VCS的集成 需要SSH pubkey来访问远程代码库<br>通过插件集成静态代码分析工具来做代码审查代码质量和风格<br>集成测试框架以运行单元测试和集成测试<br>用cron表达式定期触发构建，版本控制系统代码变化时触发构建<br>SCM&#x2F;gitlab&#x2F;github<br>触发远程构建</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lez</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
